{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/jesus_rubio/github/nextpage/src/components/Header.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Router from 'next/router';\nimport _ from 'lodash';\nimport { Link, withPrefix, classNames, getPageUrl } from '../utils';\nimport Action from './Action';\nimport Icon from './Icon';\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleWindowResize = this.handleWindowResize.bind(this);\n    this.handleRouteChange = this.handleRouteChange.bind(this);\n    this.menuOpenRef = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleWindowResize, true);\n    Router.events.on('routeChangeStart', this.handleRouteChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize, true);\n    Router.events.off('routeChangeStart', this.handleRouteChange);\n  }\n\n  handleWindowResize() {\n    const menuOpenElm = _.get(this.menuOpenRef, 'current.offsetParent');\n\n    if (menuOpenElm === null) {\n      document.body.classList.remove('menu--opened');\n    }\n  }\n\n  handleRouteChange() {\n    document.body.classList.remove('menu--opened');\n  }\n\n  handleMenuToggle(event) {\n    event.preventDefault();\n    document.body.classList.toggle('menu--opened');\n  }\n\n  renderNavLinks(navLinks, pageUrl) {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"menu\",\n      children: _.map(navLinks, (action, index) => {\n        const actionUrl = _.trim(_.get(action, 'url'), '/');\n\n        const actionStyle = _.get(action, 'style', 'link');\n\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: classNames('menu-item', {\n            'current-menu-item': pageUrl === actionUrl,\n            'menu-button': actionStyle === 'button'\n          }),\n          children: /*#__PURE__*/_jsxDEV(Action, {\n            action: action\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderSocialLinks(socialLinks) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"social-links\",\n      children: _.map(socialLinks, (action, index) => {\n        const url = _.get(action, 'url');\n\n        const label = _.get(action, 'label');\n\n        const style = _.get(action, 'style', 'link');\n\n        const icon = _.get(action, 'icon_class', 'dev');\n\n        const classes = classNames({\n          'button': style === 'icon',\n          'button-icon': style === 'icon'\n        });\n\n        const newWindow = _.get(action, 'new_window');\n\n        const noFollow = _.get(action, 'no_follow');\n\n        const attrs = {};\n\n        if (newWindow) {\n          attrs.target = '_blank';\n        }\n\n        if (newWindow || noFollow) {\n          attrs.rel = [newWindow ? 'noopener' : '', noFollow ? 'nofollow' : ''].filter(Boolean).join(' ');\n        }\n\n        return /*#__PURE__*/_jsxDEV(Link, _objectSpread(_objectSpread({\n          href: withPrefix(url)\n        }, attrs), {}, {\n          className: classes,\n          children: style === 'icon' && icon ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              icon: icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"screen-reader-text\",\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 33\n          }, this) : label\n        }), index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    const page = _.get(this.props, 'page');\n\n    const pageUrl = _.trim(getPageUrl(page), '/');\n\n    const config = _.get(this.props, 'config');\n\n    const header = _.get(config, 'header');\n\n    const headerBackground = _.get(header, 'background', 'dark');\n\n    const profileImg = _.get(header, 'profile_img');\n\n    const profileImgAlt = _.get(header, 'profile_img_alt', '');\n\n    const title = _.get(header, 'title');\n\n    const tagline = _.get(header, 'tagline');\n\n    const hasNav = _.get(header, 'has_nav');\n\n    const navLinks = _.get(header, 'nav_links');\n\n    const hasSocial = _.get(header, 'has_social');\n\n    const socialLinks = _.get(header, 'social_links');\n\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      id: \"masthead\",\n      className: `site-header ${headerBackground}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"site-header-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"site-header-inside\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"site-branding\",\n            children: [profileImg && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"profile\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: withPrefix('/'),\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: withPrefix(profileImg),\n                  className: \"avatar\",\n                  alt: profileImgAlt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"site-identity\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"site-title\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: withPrefix('/'),\n                  children: title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 59\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 33\n              }, this), tagline && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"site-description\",\n                children: tagline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this), (hasNav && !_.isEmpty(navLinks) || hasSocial && !_.isEmpty(socialLinks)) && /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"menu-toggle\",\n              className: \"menu-toggle\",\n              ref: this.menuOpenRef,\n              onClick: this.handleMenuToggle.bind(this),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"screen-reader-text\",\n                children: \"Menu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 225\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon-menu\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 273\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 110\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), (hasNav && !_.isEmpty(navLinks) || hasSocial && !_.isEmpty(socialLinks)) && /*#__PURE__*/_jsxDEV(\"nav\", {\n            id: \"main-navigation\",\n            className: \"site-navigation\",\n            \"aria-label\": \"Main Navigation\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"site-nav-wrap\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"site-nav-inside\",\n                children: [hasNav && !_.isEmpty(navLinks) && this.renderNavLinks(navLinks, pageUrl), hasSocial && !_.isEmpty(socialLinks) && this.renderSocialLinks(socialLinks)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/jesus_rubio/github/nextpage/src/components/Header.js"],"names":["React","Router","_","Link","withPrefix","classNames","getPageUrl","Action","Icon","Header","Component","constructor","props","handleWindowResize","bind","handleRouteChange","menuOpenRef","createRef","componentDidMount","window","addEventListener","events","on","componentWillUnmount","removeEventListener","off","menuOpenElm","get","document","body","classList","remove","handleMenuToggle","event","preventDefault","toggle","renderNavLinks","navLinks","pageUrl","map","action","index","actionUrl","trim","actionStyle","renderSocialLinks","socialLinks","url","label","style","icon","classes","newWindow","noFollow","attrs","target","rel","filter","Boolean","join","render","page","config","header","headerBackground","profileImg","profileImgAlt","title","tagline","hasNav","hasSocial","isEmpty"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,UAA3B,EAAuCC,UAAvC,QAAyD,UAAzD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,eAAe,MAAMC,MAAN,SAAqBT,KAAK,CAACU,SAA3B,CAAqC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKE,WAAL,gBAAmBhB,KAAK,CAACiB,SAAN,EAAnB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKP,kBAAvC,EAA2D,IAA3D;AACAZ,IAAAA,MAAM,CAACoB,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqC,KAAKP,iBAA1C;AACH;;AAEDQ,EAAAA,oBAAoB,GAAG;AACnBJ,IAAAA,MAAM,CAACK,mBAAP,CAA2B,QAA3B,EAAqC,KAAKX,kBAA1C,EAA8D,IAA9D;AACAZ,IAAAA,MAAM,CAACoB,MAAP,CAAcI,GAAd,CAAkB,kBAAlB,EAAsC,KAAKV,iBAA3C;AACH;;AAEDF,EAAAA,kBAAkB,GAAG;AACjB,UAAMa,WAAW,GAAGxB,CAAC,CAACyB,GAAF,CAAM,KAAKX,WAAX,EAAwB,sBAAxB,CAApB;;AACA,QAAIU,WAAW,KAAK,IAApB,EAA0B;AACtBE,MAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,cAA/B;AACH;AACJ;;AAEDhB,EAAAA,iBAAiB,GAAG;AAChBa,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,cAA/B;AACH;;AAEDC,EAAAA,gBAAgB,CAACC,KAAD,EAAQ;AACpBA,IAAAA,KAAK,CAACC,cAAN;AACAN,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBK,MAAxB,CAA+B,cAA/B;AACH;;AAEDC,EAAAA,cAAc,CAACC,QAAD,EAAWC,OAAX,EAAoB;AAC9B,wBACI;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA,gBACKpC,CAAC,CAACqC,GAAF,CAAMF,QAAN,EAAgB,CAACG,MAAD,EAASC,KAAT,KAAmB;AAChC,cAAMC,SAAS,GAAGxC,CAAC,CAACyC,IAAF,CAAOzC,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,KAAd,CAAP,EAA6B,GAA7B,CAAlB;;AACA,cAAMI,WAAW,GAAG1C,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,OAAd,EAAuB,MAAvB,CAApB;;AACA,4BACI;AAEI,UAAA,SAAS,EAAEnC,UAAU,CAAC,WAAD,EAAc;AAC/B,iCAAqBiC,OAAO,KAAKI,SADF;AAE/B,2BAAeE,WAAW,KAAK;AAFA,WAAd,CAFzB;AAAA,iCAOI,QAAC,MAAD;AAAQ,YAAA,MAAM,EAAEJ;AAAhB;AAAA;AAAA;AAAA;AAAA;AAPJ,WACSC,KADT;AAAA;AAAA;AAAA;AAAA,gBADJ;AAWH,OAdA;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBH;;AAEDI,EAAAA,iBAAiB,CAACC,WAAD,EAAc;AAC3B,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,gBACK5C,CAAC,CAACqC,GAAF,CAAMO,WAAN,EAAmB,CAACN,MAAD,EAASC,KAAT,KAAmB;AACnC,cAAMM,GAAG,GAAG7C,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,KAAd,CAAZ;;AACA,cAAMQ,KAAK,GAAG9C,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,OAAd,CAAd;;AACA,cAAMS,KAAK,GAAG/C,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,OAAd,EAAuB,MAAvB,CAAd;;AACA,cAAMU,IAAI,GAAGhD,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,YAAd,EAA4B,KAA5B,CAAb;;AACA,cAAMW,OAAO,GAAG9C,UAAU,CAAC;AACvB,oBAAU4C,KAAK,KAAK,MADG;AAEvB,yBAAeA,KAAK,KAAK;AAFF,SAAD,CAA1B;;AAIA,cAAMG,SAAS,GAAGlD,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,YAAd,CAAlB;;AACA,cAAMa,QAAQ,GAAGnD,CAAC,CAACyB,GAAF,CAAMa,MAAN,EAAc,WAAd,CAAjB;;AACA,cAAMc,KAAK,GAAG,EAAd;;AACA,YAAIF,SAAJ,EAAe;AACXE,UAAAA,KAAK,CAACC,MAAN,GAAe,QAAf;AACH;;AACD,YAAIH,SAAS,IAAIC,QAAjB,EAA2B;AACvBC,UAAAA,KAAK,CAACE,GAAN,GAAY,CAAEJ,SAAS,GAAG,UAAH,GAAgB,EAA3B,EAAiCC,QAAQ,GAAG,UAAH,GAAgB,EAAzD,EAA8DI,MAA9D,CAAqEC,OAArE,EAA8EC,IAA9E,CAAmF,GAAnF,CAAZ;AACH;;AACD,4BACI,QAAC,IAAD;AAAkB,UAAA,IAAI,EAAEvD,UAAU,CAAC2C,GAAD;AAAlC,WAA6CO,KAA7C;AAAoD,UAAA,SAAS,EAAEH,OAA/D;AAAA,oBACMF,KAAK,KAAK,MAAV,IAAoBC,IAArB,gBACG,QAAC,KAAD,CAAO,QAAP;AAAA,oCACI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAEA;AAAZ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,SAAS,EAAC,oBAAhB;AAAA,wBAAsCF;AAAtC;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADH,GAMGA;AAPR,YAAWP,KAAX;AAAA;AAAA;AAAA;AAAA,gBADJ;AAYH,OA9BA;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAmCH;;AAEDmB,EAAAA,MAAM,GAAG;AACL,UAAMC,IAAI,GAAG3D,CAAC,CAACyB,GAAF,CAAM,KAAKf,KAAX,EAAkB,MAAlB,CAAb;;AACA,UAAM0B,OAAO,GAAGpC,CAAC,CAACyC,IAAF,CAAOrC,UAAU,CAACuD,IAAD,CAAjB,EAAyB,GAAzB,CAAhB;;AACA,UAAMC,MAAM,GAAG5D,CAAC,CAACyB,GAAF,CAAM,KAAKf,KAAX,EAAkB,QAAlB,CAAf;;AACA,UAAMmD,MAAM,GAAG7D,CAAC,CAACyB,GAAF,CAAMmC,MAAN,EAAc,QAAd,CAAf;;AACA,UAAME,gBAAgB,GAAG9D,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,YAAd,EAA4B,MAA5B,CAAzB;;AACA,UAAME,UAAU,GAAG/D,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,aAAd,CAAnB;;AACA,UAAMG,aAAa,GAAGhE,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,iBAAd,EAAiC,EAAjC,CAAtB;;AACA,UAAMI,KAAK,GAAGjE,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,OAAd,CAAd;;AACA,UAAMK,OAAO,GAAGlE,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,SAAd,CAAhB;;AACA,UAAMM,MAAM,GAAGnE,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,SAAd,CAAf;;AACA,UAAM1B,QAAQ,GAAGnC,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,WAAd,CAAjB;;AACA,UAAMO,SAAS,GAAGpE,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,YAAd,CAAlB;;AACA,UAAMjB,WAAW,GAAG5C,CAAC,CAACyB,GAAF,CAAMoC,MAAN,EAAc,cAAd,CAApB;;AAEA,wBACI;AAAQ,MAAA,EAAE,EAAC,UAAX;AAAsB,MAAA,SAAS,EAAG,eAAcC,gBAAiB,EAAjE;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,uBACKC,UAAU,iBACP;AAAG,cAAA,SAAS,EAAC,SAAb;AAAA,qCACI,QAAC,IAAD;AAAM,gBAAA,IAAI,EAAE7D,UAAU,CAAC,GAAD,CAAtB;AAAA,uCACI;AAAK,kBAAA,GAAG,EAAEA,UAAU,CAAC6D,UAAD,CAApB;AAAkC,kBAAA,SAAS,EAAC,QAA5C;AAAqD,kBAAA,GAAG,EAAEC;AAA1D;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAFR,eAQI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,sCACI;AAAG,gBAAA,SAAS,EAAC,YAAb;AAAA,uCAA0B,QAAC,IAAD;AAAM,kBAAA,IAAI,EAAE9D,UAAU,CAAC,GAAD,CAAtB;AAAA,4BAA8B+D;AAA9B;AAAA;AAAA;AAAA;AAAA;AAA1B;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEKC,OAAO,iBAAI;AAAG,gBAAA,SAAS,EAAC,kBAAb;AAAA,0BAAiCA;AAAjC;AAAA;AAAA;AAAA;AAAA,sBAFhB;AAAA;AAAA;AAAA;AAAA;AAAA,oBARJ,EAYK,CAAEC,MAAM,IAAI,CAACnE,CAAC,CAACqE,OAAF,CAAUlC,QAAV,CAAZ,IAAqCiC,SAAS,IAAI,CAACpE,CAAC,CAACqE,OAAF,CAAUzB,WAAV,CAApD,kBAAgF;AAAQ,cAAA,EAAE,EAAC,aAAX;AAAyB,cAAA,SAAS,EAAC,aAAnC;AAAiD,cAAA,GAAG,EAAE,KAAK9B,WAA3D;AAAwE,cAAA,OAAO,EAAE,KAAKgB,gBAAL,CAAsBlB,IAAtB,CAA2B,IAA3B,CAAjF;AAAA,sCAAmH;AAAM,gBAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAnH,eAAmK;AAAM,gBAAA,SAAS,EAAC,WAAhB;AAA4B,+BAAY;AAAxC;AAAA;AAAA;AAAA;AAAA,sBAAnK;AAAA;AAAA;AAAA;AAAA;AAAA,oBAZrF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAeK,CAAEuD,MAAM,IAAI,CAACnE,CAAC,CAACqE,OAAF,CAAUlC,QAAV,CAAZ,IAAqCiC,SAAS,IAAI,CAACpE,CAAC,CAACqE,OAAF,CAAUzB,WAAV,CAApD,kBACG;AAAK,YAAA,EAAE,EAAC,iBAAR;AAA0B,YAAA,SAAS,EAAC,iBAApC;AAAsD,0BAAW,iBAAjE;AAAA,mCACI;AAAK,cAAA,SAAS,EAAC,eAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,2BACKuB,MAAM,IAAI,CAACnE,CAAC,CAACqE,OAAF,CAAUlC,QAAV,CAAX,IAAkC,KAAKD,cAAL,CAAoBC,QAApB,EAA8BC,OAA9B,CADvC,EAEKgC,SAAS,IAAI,CAACpE,CAAC,CAACqE,OAAF,CAAUzB,WAAV,CAAd,IAAwC,KAAKD,iBAAL,CAAuBC,WAAvB,CAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAhBR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAgCH;;AA7I+C","sourcesContent":["import React from 'react';\nimport Router from 'next/router';\nimport _ from 'lodash';\n\nimport { Link, withPrefix, classNames, getPageUrl } from '../utils';\nimport Action from './Action';\nimport Icon from './Icon';\n\nexport default class Header extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleWindowResize = this.handleWindowResize.bind(this);\n        this.handleRouteChange = this.handleRouteChange.bind(this);\n        this.menuOpenRef = React.createRef();\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleWindowResize, true);\n        Router.events.on('routeChangeStart', this.handleRouteChange);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize, true);\n        Router.events.off('routeChangeStart', this.handleRouteChange);\n    }\n\n    handleWindowResize() {\n        const menuOpenElm = _.get(this.menuOpenRef, 'current.offsetParent');\n        if (menuOpenElm === null) {\n            document.body.classList.remove('menu--opened');\n        }\n    }\n\n    handleRouteChange() {\n        document.body.classList.remove('menu--opened');\n    }\n\n    handleMenuToggle(event) {\n        event.preventDefault();\n        document.body.classList.toggle('menu--opened');\n    }\n\n    renderNavLinks(navLinks, pageUrl) {\n        return (\n            <ul className=\"menu\">\n                {_.map(navLinks, (action, index) => {\n                    const actionUrl = _.trim(_.get(action, 'url'), '/');\n                    const actionStyle = _.get(action, 'style', 'link');\n                    return (\n                        <li\n                            key={index}\n                            className={classNames('menu-item', {\n                                'current-menu-item': pageUrl === actionUrl,\n                                'menu-button': actionStyle === 'button'\n                            })}\n                        >\n                            <Action action={action} />\n                        </li>\n                    )\n                })}\n            </ul>\n        )\n    }\n\n    renderSocialLinks(socialLinks) {\n        return (\n            <div className=\"social-links\">\n                {_.map(socialLinks, (action, index) => {\n                    const url = _.get(action, 'url');\n                    const label = _.get(action, 'label');\n                    const style = _.get(action, 'style', 'link');\n                    const icon = _.get(action, 'icon_class', 'dev');\n                    const classes = classNames({\n                        'button': style === 'icon',\n                        'button-icon': style === 'icon'\n                    });\n                    const newWindow = _.get(action, 'new_window');\n                    const noFollow = _.get(action, 'no_follow');\n                    const attrs = {};\n                    if (newWindow) {\n                        attrs.target = '_blank';\n                    }\n                    if (newWindow || noFollow) {\n                        attrs.rel = [(newWindow ? 'noopener' : ''), (noFollow ? 'nofollow' : '')].filter(Boolean).join(' ');\n                    }\n                    return (\n                        <Link key={index} href={withPrefix(url)} {...attrs} className={classes}>\n                            {(style === 'icon' && icon) ? (\n                                <React.Fragment>\n                                    <Icon icon={icon} />\n                                    <span className=\"screen-reader-text\">{label}</span>\n                                </React.Fragment>\n                            ) :\n                                label\n                            }\n                        </Link>\n                    )\n                })}\n            </div>\n        )\n    }\n\n    render() {\n        const page = _.get(this.props, 'page');\n        const pageUrl = _.trim(getPageUrl(page), '/');\n        const config = _.get(this.props, 'config');\n        const header = _.get(config, 'header');\n        const headerBackground = _.get(header, 'background', 'dark');\n        const profileImg = _.get(header, 'profile_img');\n        const profileImgAlt = _.get(header, 'profile_img_alt', '');\n        const title = _.get(header, 'title');\n        const tagline = _.get(header, 'tagline');\n        const hasNav = _.get(header, 'has_nav');\n        const navLinks = _.get(header, 'nav_links');\n        const hasSocial = _.get(header, 'has_social');\n        const socialLinks = _.get(header, 'social_links');\n\n        return (\n            <header id=\"masthead\" className={`site-header ${headerBackground}`}>\n                <div className=\"site-header-wrap\">\n                    <div className=\"site-header-inside\">\n                        <div className=\"site-branding\">\n                            {profileImg && (\n                                <p className=\"profile\">\n                                    <Link href={withPrefix('/')}>\n                                        <img src={withPrefix(profileImg)} className=\"avatar\" alt={profileImgAlt} />\n                                    </Link>\n                                </p>\n                            )}\n                            <div className=\"site-identity\">\n                                <p className=\"site-title\"><Link href={withPrefix('/')}>{title}</Link></p>\n                                {tagline && <p className=\"site-description\">{tagline}</p>}\n                            </div>\n                            {((hasNav && !_.isEmpty(navLinks)) || (hasSocial && !_.isEmpty(socialLinks))) && <button id=\"menu-toggle\" className=\"menu-toggle\" ref={this.menuOpenRef} onClick={this.handleMenuToggle.bind(this)}><span className=\"screen-reader-text\">Menu</span><span className=\"icon-menu\" aria-hidden=\"true\" /></button>}\n                        </div>\n                        {((hasNav && !_.isEmpty(navLinks)) || (hasSocial && !_.isEmpty(socialLinks))) && (\n                            <nav id=\"main-navigation\" className=\"site-navigation\" aria-label=\"Main Navigation\">\n                                <div className=\"site-nav-wrap\">\n                                    <div className=\"site-nav-inside\">\n                                        {hasNav && !_.isEmpty(navLinks) && this.renderNavLinks(navLinks, pageUrl)}\n                                        {hasSocial && !_.isEmpty(socialLinks) && this.renderSocialLinks(socialLinks)}\n                                    </div>\n                                </div>\n                            </nav>\n                        )}\n                    </div>\n                </div>\n            </header>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}